<!doctype html>

<!-- Input -->
<html>
    <head>
        <title>CodeMirror-Form</title>
        <script src="plugins/codemirror-zipFile/mode/python/python.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="plugins/codemirror-zipFile/lib/codemirror.js"></script>
        <link href="/plugins/codemirror-zipFile/lib/codemirror.css" rel="stylesheet"/>
        <script src="plugins/codemirror-zipFile/mode/python/python.js"></script>
        <script src="plugins/codemirror-zipFile/addon/edit/closetag.js"></script>
        <script src="plugins/codemirror-zipFile/addon/edit/closebrackets.js"></script>
        <script src="plugins/codemirror-zipFile/addon/edit/matchbrackets.js"></script>
        <script src="plugins/codemirror-zipFile/addon/hint/show-hint.js"></script>
        <link href="plugins/codemirror-zipFile/addon/hint/show-hint.css" rel="stylesheet"/>
        <script src="plugins/codemirror-zipFile/addon/hint/anyword-hint.js"></script>
        
        
        <link href="/plugins/codemirror-zipFile/theme/ambiance.css" rel="stylesheet"/>
        <link rel="stylesheet" href="/stylesheets/main.css">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
        <script src="js/jquery.min.js"></script>

    </head>
    <body>
      <nav class="navbar navbar-expand-md">
         <div class="navbar-header">
            <a class="navbar-brand" href="/">Earlham </a>
         </div>
         <ul class="nav navbar-nav"  id="nav-item-hover" >
            <li><a href="/courses"> Courses</a></li>
            <li><a href="/questions"> Forum </a></li>
          </ul>
         <ul class="nav navbar-nav ml-auto"  id="nav-item-hover" >
            <% if(!currentUser){ %>
                <li><a  href="/login" <i class="fa fa-user-circle "></i>Login</a></li>
                <li><a href="/register" <i class="fa fa-user-plus "></i>Sign Up</a></li>
            <% } else { %>
                <li><a href="#" <i class="fa fa-user" aria-hidden="true"></i>  <%= currentUser.username %></a></li>
                <li><a href="/logout" <i class="fa fa-sign-out" aria-hidden="true"></i>Logout</a></li>
            <% } %>
        </ul> 
      </nav>
        
    <div class = "container" >    
        <form action="/compiler" method="POST">
                <div class="form-group mx-auto">
                    <select name="language">
                        <option value="python3" id="1">Python3</option>
                        <option value="python2" id="2">Python2</option>
                        <option value="c" id="3">C</option>
                        <option value="cpp" id="5">C++</option>
                        <option value="csharp">C#</option>
                        <option value="java" id="4"s>Java</option>
                        <option value="ruby">Ruby</option>
                        <option value="swift">Swift</option>
                        <option value="r">R</option>
                    </select>
                    <% if(id="1"){ %>
                        <name="versionIndex" value="0"></name>
                    <% } %>
                    <% if(id="2"){ %>
                        <name="versionIndex" value="0"></name>
                    <% } %>
                    <% if(id="3"){ %>
                        <name="versionIndex" value="0"></name>
                    <% } %>
                    <% if(id="4"){ %>
                        <name="versionIndex" value="2"></name>
                    <% } %>
                    <% if(id="5") { %>
                        <name="versionIndex" value="0"></name>
                    <% } %>
                </div>
                
                <div class="form-group mx-auto">
                    <textarea id="editor_input" name = "sourceCode"><%= input %></textarea> 
                    <script>
                        var editor = CodeMirror.fromTextArea(document.getElementById('editor_input'), {
                            mode: "python",
                            theme: "ambiance",
                            lineNumbers: true,
                            autoCloseTags: true,
                            autoCloseBrackets: true,
                            matchBrackets: true,
                            showHint: true
                        });
                        editor.setSize("900", "500"); 
                        
                        function getCode(){
                            editor = $("#editor_input").val();
                            $("#displayOutput").html(editor);
                        }
                    </script>
                </div>
            
                
             
                <div class="form-group mx-auto">
                    <button class="btn btn-sm btn-primary">Submit!</button>
                </div>
        </form>

        OUTPUT: 
        <div class="card card-body bg-light">
            <strong><%= output %></strong>
        </div>
    </div>    
       
 
    </body>
    
</html>
